{"version":3,"file":"CompositionTracker.js","sourceRoot":"","sources":["../../src/core/CompositionTracker.ts"],"names":[],"mappings":"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"}