{"version":3,"file":"CompositionTracker.js","sourceRoot":"","sources":["../../src/core/CompositionTracker.ts"],"names":[],"mappings":"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"}