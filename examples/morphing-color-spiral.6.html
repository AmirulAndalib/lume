<!DOCTYPE html>
<html>
	<head>
		<script>
			window.addEventListener("error", function(e){
				e = e.error
				alert(e.stack)
			})
		</script>
		<script src="/global.js" type="text/javascript"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.13/vue.min.js" type="text/javascript"></script>
		<style>
			html, body {
				width: 100%; height: 100%;
				padding: 0; margin: 0;
				background: #333
			}
		</style>
	</head>
	<body>
		<i-scene>
			<i-node
				size="1630 1630"
				align="0.5 0.5"
				mountPoint="0.5 0.5"
				:rotation="[0, 0, rotation]"
			>

				<i-scene>
					<i-node
						v-for="(n,i) of nodes"
						:key="i"
						size="0 0 0"
						align="0.5 0.5"
						:rotation="[0, 0, i*10]"
					>
						<i-node
							size="50 50"
							mountPoint="0.5 0.5"
							:position="[0, i*2, 0]"
							:style="{
			 					//background: 'hsl('+((i*180+20)%360)+', 100%, 50%)',
			 					//background: 'hsl('+((i*-9.5)%360)+', 100%, 50%)',
			 					background: 'hsl('+((i*9)%360)+', 90%, 78%)',
			 					//background: 'hsl('+((i*7)%360)+', 90%, 78%)',
			 					//background: 'hsl('+((i)%360)+', 90%, 78%)',
			 					//background: 'hsl('+((i*2)%360)+', 90%, 78%)',
			 					//background: 'hsl('+((i*-9.5)%360)+', 90%, 78%)',
			 					borderRadius: '50px',
							}"
						>
						</i-node>
					</i-node>
				</i-scene>

			</i-node>
		</i-scene>
		<script>
			infamous.html.useDefaultNames()
			const Motor = infamous.core.Motor

			new Vue({
				el: 'i-scene',
				data() { return {
					rotation: 0,
					nodes: Array(400),
				} },
				mounted() {
					Motor.addRenderTask(() => {
						this.rotation += -9.8
					})
				},
			})
		</script>
	</body>
</html>
